(()=>{"use strict";var e,t={1609:e=>{e.exports=window.React},4274:(e,t,n)=>{var a=n(1609),l=n(6087),r=n(867),i=n(137),o=(n(1819),n(1847)),s=n(5448),c=n(6395),m=n(2702),d=n(9249),u=n(4556),p=n(5142),h=n(271),E=n(7909),A=n(3487),g=n(518),y=n(7495),f=n(2567),w=n(3213),b=n(7959),v=n(4207),S=n(1086),x=n(6784),C=n(6841),k=n(4779),T=n(2741),I=n(7152),z=n(6370),P=n(8279),O=n(2609),B=n(9392),D=n(261),W=n(7046),_=n(9499),F=n(9237);class N extends Error{constructor(e,t=0,n=null){super(e),this.name="ApiError",this.status=t,this.data=n}isNetworkError(){return 0===this.status}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}const R=new class{constructor(){this.baseUrl=window.stwAdminData?.rest_url||window.stwData?.rest_url||"",this.namespace="stw/v1",this.nonce=window.stwAdminData?.rest_nonce||window.stwData?.rest_nonce||"",this.defaultHeaders={"Content-Type":"application/json","X-WP-Nonce":this.nonce}}async request(e,t={}){const n=`${this.baseUrl}${this.namespace}/${e.replace(/^\//,"")}`,a={headers:{...this.defaultHeaders,...t.headers},...t};try{const e=await fetch(n,a);if(!e.ok){const t=await e.json().catch((()=>({message:"Network error"})));throw new N(t.message||"Request failed",e.status,t)}const t=e.headers.get("content-type");return t&&t.includes("application/json")?await e.json():await e.text()}catch(e){if(e instanceof N)throw e;throw new N("Network error occurred",0,e)}}async get(e,t={}){const n=new URLSearchParams(t),a=n.toString()?`${e}?${n}`:e;return this.request(a,{method:"GET"})}async post(e,t={}){return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e,t={}){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async patch(e,t={}){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}async upload(e,t,n={}){const a=new FormData;return a.append("file",t),Object.keys(n).forEach((e=>{a.append(e,n[e])})),this.request(e,{method:"POST",headers:{"X-WP-Nonce":this.nonce},body:a})}},$={client:R,themes:new class{constructor(e){this.client=e}async getThemes(){return this.client.get("template")}async getTheme(e){return this.client.get(`template/${e}`)}async createTheme(e){return this.client.post("template",e)}async updateTheme(e,t){return this.client.put(`template/${e}`,t)}async deleteTheme(e){return this.client.delete(`template/${e}`)}async duplicateTheme(e){return this.client.post(`template/${e}/duplicate`)}}(R),data:new class{constructor(e){this.client=e}async getWheelData(e){return this.client.get(`data/${e}`)}async updateWheelData(e,t){return this.client.put(`data/${e}`,t)}async getAnalytics(e={}){return this.client.get("analytics",e)}async saveSpinResult(e){return this.client.post("analytics/spin",e)}}(R),settings:new class{constructor(e){this.client=e}async getSettings(){return this.client.get("settings")}async updateSettings(e){return this.client.put("settings",e)}async getSetting(e){return this.client.get(`settings/${e}`)}async updateSetting(e,t){return this.client.put(`settings/${e}`,{value:t})}}(R)},L=(0,l.createContext)(),M=()=>{const e=(0,l.useContext)(L);if(!e)throw new Error("useApi must be used within ApiProvider");return e},{Title:j}=o.A,{TextArea:q}=y.A,{Panel:H}=f.A,U=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(!1),[s,u]=(0,l.useState)(null),[p]=w.A.useForm();M(),(0,l.useEffect)((()=>{h()}),[]);const h=async()=>{r(!0);try{t([{id:1,name:"Classic Theme",description:"A classic wheel theme with vibrant colors",mustStartSpinning:!1,prizeNumber:0,startingOptionIndex:0,spinDuration:4e3,disableInitialAnimation:!1,backgroundColors:["#ff8f43","#70bbe0","#0b7ec8","#ffd23f"],textColors:["#ffffff","#000000"],outerBorderColor:"#eeeeee",outerBorderWidth:10,innerRadius:30,innerBorderColor:"#30261a",innerBorderWidth:70,radiusLineColor:"#eeeeee",radiusLineWidth:8,fontFamily:"Arial",fontSize:16,fontWeight:700,fontStyle:"normal",perpendicularText:!1,pointerImageSource:""},{id:2,name:"Modern Theme",description:"A sleek modern design with clean lines",mustStartSpinning:!0,prizeNumber:1,startingOptionIndex:0,spinDuration:3e3,disableInitialAnimation:!0,backgroundColors:["#667eea","#764ba2","#f093fb","#f5576c"],textColors:["#ffffff","#000000"],outerBorderColor:"#333333",outerBorderWidth:5,innerRadius:20,innerBorderColor:"#555555",innerBorderWidth:40,radiusLineColor:"#666666",radiusLineWidth:2,fontFamily:"Helvetica",fontSize:14,fontWeight:400,fontStyle:"normal",perpendicularText:!0,pointerImageSource:""}])}catch(e){console.error("Theme loading error:",e),b.Ay.error("Failed to load themes")}finally{r(!1)}},E=[{title:"Theme Name",dataIndex:"name",key:"name",width:"25%"},{title:"Description",dataIndex:"description",key:"description",width:"30%"},{title:"Colors",dataIndex:"backgroundColors",key:"colors",width:"25%",render:e=>(0,a.createElement)(m.A,{wrap:!0,size:"small"},e?.slice(0,4).map(((e,t)=>(0,a.createElement)(v.A,{key:t,style:{backgroundColor:e,color:"#fff",border:"none",width:"20px",height:"20px",borderRadius:"50%",display:"inline-block"}}))))},{title:"Actions",key:"actions",width:"20%",render:(n,l)=>(0,a.createElement)(m.A,null,(0,a.createElement)(d.Ay,{type:"primary",size:"small",icon:(0,a.createElement)(D.A,null),onClick:()=>{return u(e=l),p.setFieldsValue(e),void o(!0);var e}},"Edit"),(0,a.createElement)(d.Ay,{size:"small",icon:(0,a.createElement)(W.A,null),onClick:()=>(async n=>{try{const a={...n,id:Date.now(),name:`${n.name} (Copy)`};t([...e,a]),b.Ay.success("Theme duplicated successfully")}catch(e){console.error("Duplicate error:",e),b.Ay.error("Failed to duplicate theme")}})(l)},"Duplicate"),(0,a.createElement)(S.A,{title:"Delete this theme?",description:"This action cannot be undone.",onConfirm:()=>(async n=>{try{t(e.filter((e=>e.id!==n))),b.Ay.success("Theme deleted successfully")}catch(e){console.error("Delete error:",e),b.Ay.error("Failed to delete theme")}})(l.id),okText:"Yes",cancelText:"No"},(0,a.createElement)(d.Ay,{danger:!0,size:"small",icon:(0,a.createElement)(_.A,null)},"Delete")))}];return(0,a.createElement)("div",null,(0,a.createElement)(c.A,null,(0,a.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16}},(0,a.createElement)(j,{level:5,style:{margin:0}},"Theme Management"),(0,a.createElement)(d.Ay,{type:"primary",icon:(0,a.createElement)(F.A,null),onClick:()=>{u(null),p.resetFields(),o(!0)}},"Create New Theme")),(0,a.createElement)(x.A,{columns:E,dataSource:e,loading:n,rowKey:"id",pagination:{pageSize:10}})),(0,a.createElement)(C.A,{title:s?"Edit Theme":"Create New Theme",open:i,onCancel:()=>o(!1),onOk:()=>p.submit(),width:800,okText:s?"Update":"Create",zIndex:1e3,getContainer:()=>document.body},(0,a.createElement)(w.A,{form:p,layout:"vertical",onFinish:async n=>{try{if(s)t(e.map((e=>e.id===s.id?{...e,...n}:e))),b.Ay.success("Theme updated successfully");else{const a={...n,id:Date.now()};t([...e,a]),b.Ay.success("Theme created successfully")}o(!1)}catch(e){console.error("Submit error:",e),b.Ay.error("Failed to save theme")}}},(0,a.createElement)(w.A.Item,{name:"name",label:"Theme Name",rules:[{required:!0,message:"Please enter a theme name"}]},(0,a.createElement)(y.A,{placeholder:"Enter theme name"})),(0,a.createElement)(w.A.Item,{name:"description",label:"Description"},(0,a.createElement)(y.A,{placeholder:"Enter theme description"})),(0,a.createElement)(w.A.Item,{name:"wheelDataId",label:"Wheel Data",rules:[{required:!0,message:"Please select wheel data"}]},(0,a.createElement)(k.A,{placeholder:"Select wheel data",getPopupContainer:e=>e.parentElement,dropdownStyle:{zIndex:1050}},(0,a.createElement)(k.A.Option,{value:"01"},"Sample Wheel Data 01"),(0,a.createElement)(k.A.Option,{value:"02"},"Sample Wheel Data 02"))),(0,a.createElement)(T.A,null,"Theme Configuration"),(0,a.createElement)("div",{style:{background:"#fafafa",padding:"20px",borderRadius:"8px"}},(0,a.createElement)("div",{style:{background:"#ffffff",padding:"20px",marginBottom:"16px",borderRadius:"8px",border:"1px solid #d9d9d9"}},(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"prizeNumber",label:"Prize Number",rules:[{required:!0,message:"Please enter prize number"}],style:{marginBottom:16}},(0,a.createElement)(P.A,{min:0,placeholder:"Prize index",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"startingOptionIndex",label:"Starting Option Index",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:0,placeholder:"Starting index",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"spinDuration",label:"Spin Duration (ms)",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:1e3,max:1e4,placeholder:"Duration",style:{width:"100%"}})))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{name:"mustStartSpinning",label:"Must Start Spinning",valuePropName:"checked",style:{marginBottom:16}},(0,a.createElement)(O.A,null))),(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{name:"disableInitialAnimation",label:"Disable Initial Animation",valuePropName:"checked",style:{marginBottom:16}},(0,a.createElement)(O.A,null)))),(0,a.createElement)(f.A,{ghost:!0},(0,a.createElement)(H,{header:"Advanced Settings",key:"1"},(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{name:"backgroundColors",label:"Background Colors",style:{marginBottom:16}},(0,a.createElement)(m.A,{wrap:!0},(0,a.createElement)(B.A,{showText:!0,format:"hex"}),(0,a.createElement)(B.A,{showText:!0,format:"hex"}),(0,a.createElement)(B.A,{showText:!0,format:"hex"}),(0,a.createElement)(B.A,{showText:!0,format:"hex"})))),(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{name:"textColors",label:"Text Colors",style:{marginBottom:16}},(0,a.createElement)(m.A,{wrap:!0},(0,a.createElement)(B.A,{showText:!0,format:"hex"}),(0,a.createElement)(B.A,{showText:!0,format:"hex"}))))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"outerBorderColor",label:"Outer Border Color",style:{marginBottom:16}},(0,a.createElement)(B.A,{showText:!0,format:"hex",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"outerBorderWidth",label:"Outer Border Width",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:0,max:20,placeholder:"Width in pixels",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"innerRadius",label:"Inner Radius",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:0,placeholder:"Radius in pixels",style:{width:"100%"}})))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"innerBorderColor",label:"Inner Border Color",style:{marginBottom:16}},(0,a.createElement)(B.A,{showText:!0,format:"hex",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"innerBorderWidth",label:"Inner Border Width",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:0,max:20,placeholder:"Width in pixels",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"radiusLineWidth",label:"Radius Line Width",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:0,max:20,placeholder:"Width in pixels",style:{width:"100%"}})))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{name:"radiusLineColor",label:"Radius Line Color",style:{marginBottom:16}},(0,a.createElement)(B.A,{showText:!0,format:"hex",style:{width:"100%"}})))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"fontFamily",label:"Font Family",style:{marginBottom:16}},(0,a.createElement)(k.A,{placeholder:"Select font family",style:{width:"100%"},getPopupContainer:e=>e.parentElement,dropdownStyle:{zIndex:1050}},(0,a.createElement)(k.A.Option,{value:"Arial"},"Arial"),(0,a.createElement)(k.A.Option,{value:"Helvetica"},"Helvetica"),(0,a.createElement)(k.A.Option,{value:"Times New Roman"},"Times New Roman"),(0,a.createElement)(k.A.Option,{value:"Georgia"},"Georgia"),(0,a.createElement)(k.A.Option,{value:"Verdana"},"Verdana")))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"fontSize",label:"Font Size",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:8,max:48,placeholder:"Size in pixels",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"fontWeight",label:"Font Weight",style:{marginBottom:16}},(0,a.createElement)(k.A,{placeholder:"Select font weight",style:{width:"100%"},getPopupContainer:e=>e.parentElement,dropdownStyle:{zIndex:1050}},(0,a.createElement)(k.A.Option,{value:100},"100 - Thin"),(0,a.createElement)(k.A.Option,{value:200},"200 - Extra Light"),(0,a.createElement)(k.A.Option,{value:300},"300 - Light"),(0,a.createElement)(k.A.Option,{value:400},"400 - Normal"),(0,a.createElement)(k.A.Option,{value:500},"500 - Medium"),(0,a.createElement)(k.A.Option,{value:600},"600 - Semi Bold"),(0,a.createElement)(k.A.Option,{value:700},"700 - Bold"),(0,a.createElement)(k.A.Option,{value:800},"800 - Extra Bold"),(0,a.createElement)(k.A.Option,{value:900},"900 - Black"))))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"fontStyle",label:"Font Style",style:{marginBottom:16}},(0,a.createElement)(k.A,{placeholder:"Select font style",style:{width:"100%"},getPopupContainer:e=>e.parentElement,dropdownStyle:{zIndex:1050}},(0,a.createElement)(k.A.Option,{value:"normal"},"Normal"),(0,a.createElement)(k.A.Option,{value:"italic"},"Italic"),(0,a.createElement)(k.A.Option,{value:"oblique"},"Oblique")))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{name:"perpendicularText",label:"Perpendicular Text",valuePropName:"checked",style:{marginBottom:16}},(0,a.createElement)(O.A,null)))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:24},(0,a.createElement)(w.A.Item,{name:"pointerImageSource",label:"Pointer Image Source",style:{marginBottom:16}},(0,a.createElement)(y.A,{placeholder:"Enter pointer image URL",style:{width:"100%"}})))))))))))},{Title:V}=o.A,{Panel:G}=f.A,J=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(!1),[s,u]=(0,l.useState)(null),p=()=>{try{const e=localStorage.getItem("wheelDataManagerPagination");if(e){const t=JSON.parse(e);return{current:t.current||1,pageSize:t.pageSize||10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`}}}catch(e){console.warn("Could not restore pagination state:",e)}return{current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} items`}},[h,E]=(0,l.useState)(p),[A]=w.A.useForm(),g=e=>{try{localStorage.setItem("wheelDataManagerPagination",JSON.stringify({current:e.current,pageSize:e.pageSize}))}catch(e){console.warn("Could not save pagination state:",e)}},O=e=>{if("string"==typeof e)return e;if(e&&e.metaColor&&void 0!==e.metaColor.r){const{r:t,g:n,b:a}=e.metaColor;return`#${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`}return"#ff8f43"};(0,l.useEffect)((()=>{const e=p();W(e.current,e.pageSize)}),[]);const W=async(e=1,n=10)=>{r(!0);try{const a=await fetch(`${window.stwAdminData.rest_url}/stw/v1/wheel/data?page=${e}&per_page=${n}`);if(!a.ok)throw new Error("Failed to fetch wheel data");{const e=await a.json();t(e.data),E((t=>{const n={...t,current:e.current_page,total:e.total,pageSize:e.per_page};return g(n),n}))}}catch(e){console.error("API Error:",e),b.Ay.error("Failed to load wheel data. Please try again."),t([])}finally{r(!1)}},N=[{title:"Wheel Name",dataIndex:"name",key:"name",width:"25%"},{title:"Prizes",dataIndex:"data",key:"data",width:"40%",render:e=>(0,a.createElement)(m.A,{wrap:!0,size:"small"},Array.isArray(e)&&e.slice(0,3).map(((e,t)=>(0,a.createElement)(v.A,{key:t,color:O(e.style?.backgroundColor),style:{color:e.style?.textColor||"#fff",margin:"2px"}},e.option))),Array.isArray(e)&&e.length>3&&(0,a.createElement)(v.A,{color:"default"},"+",e.length-3))},{title:"Total Prizes",dataIndex:"data",key:"count",width:"15%",render:e=>Array.isArray(e)?e.length:0},{title:"Created",dataIndex:"created_at",key:"created_at",width:"15%",render:e=>e?new Date(e).toLocaleDateString():"-"},{title:"Actions",key:"actions",width:"5%",render:(e,t)=>(0,a.createElement)(m.A,null,(0,a.createElement)(d.Ay,{type:"primary",size:"small",icon:(0,a.createElement)(D.A,null),onClick:()=>(e=>{u(e);const t={...e,data:e.data?.map((e=>({...e,style:{...e.style,backgroundColor:O(e.style?.backgroundColor),textColor:e.style?.textColor||"#ffffff"}})))||[]};A.setFieldsValue(t),o(!0)})(t)},"Edit"),(0,a.createElement)(S.A,{title:"Delete this wheel?",description:"This action cannot be undone.",onConfirm:()=>(async e=>{try{if(!(await fetch(`${window.stwAdminData.rest_url}/stw/v1/wheel/data/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete data");b.Ay.success("Wheel data deleted successfully"),W(h.current,h.pageSize)}catch(e){console.error("Delete Error:",e),b.Ay.error("Failed to delete wheel data. Please try again.")}})(t.id),okText:"Yes",cancelText:"No"},(0,a.createElement)(d.Ay,{danger:!0,size:"small",icon:(0,a.createElement)(_.A,null)},"Delete")))}];return(0,a.createElement)("div",null,(0,a.createElement)(c.A,null,(0,a.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16}},(0,a.createElement)(V,{level:5,style:{margin:0}},"Wheel Data Management"),(0,a.createElement)(d.Ay,{type:"primary",icon:(0,a.createElement)(F.A,null),onClick:()=>{u(null),A.resetFields(),A.setFieldsValue({name:"",data:[{option:"Prize 1",image:{uri:"",offsetX:0,offsetY:0,sizeMultiplier:1,landscape:!1},style:{backgroundColor:"#ff8f43",textColor:"#ffffff",fontFamily:"Arial",fontSize:16,fontWeight:400,fontStyle:"normal"},optionSize:1}]}),o(!0)}},"Create New Wheel")),(0,a.createElement)(x.A,{columns:N,dataSource:e,loading:n,rowKey:"id",pagination:h,onChange:e=>{const{current:t,pageSize:n}=e;g({current:t,pageSize:n}),W(t,n)}})),(0,a.createElement)(C.A,{title:s?"Edit Wheel Data":"Create New Wheel",open:i,onCancel:()=>o(!1),onOk:()=>A.submit(),width:800,okText:s?"Update":"Create"},(0,a.createElement)(w.A,{form:A,layout:"vertical",onFinish:async e=>{try{const t=s?`${window.stwAdminData.rest_url}/stw/v1/wheel/data/${s.id}`:`${window.stwAdminData.rest_url}/stw/v1/wheel/data`,n="POST",a=await fetch(t,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error("API request failed");await a.json(),s?b.Ay.success("Wheel data updated successfully"):b.Ay.success("Wheel data created successfully"),W(h.current,h.pageSize)}catch(e){console.error("Submit Error:",e),b.Ay.error(`Failed to ${s?"update":"create"} wheel data. Please try again.`)}o(!1)}},(0,a.createElement)(w.A.Item,{name:"name",label:"Wheel Name",rules:[{required:!0,message:"Please enter a wheel name"}]},(0,a.createElement)(y.A,{placeholder:"Enter wheel name"})),(0,a.createElement)(T.A,null,"Prize Configuration"),(0,a.createElement)(w.A.List,{name:"data"},((e,{add:t,remove:n})=>(0,a.createElement)("div",{style:{background:"#fafafa",padding:"20px",borderRadius:"8px"}},e.map((({key:e,name:t,...l})=>(0,a.createElement)("div",{key:e,style:{background:"#ffffff",padding:"20px",marginBottom:"16px",borderRadius:"8px",border:"1px solid #d9d9d9"}},(0,a.createElement)(I.A,{gutter:16,align:"middle"},(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{...l,name:[t,"option"],label:"Prize Name",rules:[{required:!0,message:"Required!"}],style:{marginBottom:16}},(0,a.createElement)(y.A,{placeholder:"Prize name"}))),(0,a.createElement)(z.A,{span:5},(0,a.createElement)(w.A.Item,{...l,name:[t,"optionSize"],label:"Size",style:{marginBottom:16}},(0,a.createElement)(k.A,{placeholder:"Size",style:{width:"100%"},getPopupContainer:e=>e.parentElement},(0,a.createElement)(k.A.Option,{value:1},"One Slice"),(0,a.createElement)(k.A.Option,{value:2},"Two Slices"),(0,a.createElement)(k.A.Option,{value:3},"Three Slices")))),(0,a.createElement)(z.A,{span:5},(0,a.createElement)(w.A.Item,{...l,name:[t,"style","backgroundColor"],label:"Background Color",style:{marginBottom:16}},(0,a.createElement)(B.A,{showText:!0,format:"hex",style:{width:"100%"},getPopupContainer:e=>e.parentElement}))),(0,a.createElement)(z.A,{span:2},(0,a.createElement)(d.Ay,{type:"text",danger:!0,onClick:()=>n(t),icon:(0,a.createElement)(_.A,null)}))),(0,a.createElement)(f.A,{ghost:!0},(0,a.createElement)(G,{header:"Advanced Settings",key:"1"},(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:12},(0,a.createElement)(w.A.Item,{...l,name:[t,"image","uri"],label:"Image URL",style:{marginBottom:16}},(0,a.createElement)(y.A,{placeholder:"Image URL"}))),(0,a.createElement)(z.A,{span:6},(0,a.createElement)(w.A.Item,{...l,name:[t,"image","offsetX"],label:"X Offset",style:{marginBottom:16}},(0,a.createElement)(P.A,{placeholder:"X",style:{width:"100%"}}))),(0,a.createElement)(z.A,{span:6},(0,a.createElement)(w.A.Item,{...l,name:[t,"image","offsetY"],label:"Y Offset",style:{marginBottom:16}},(0,a.createElement)(P.A,{placeholder:"Y",style:{width:"100%"}})))),(0,a.createElement)(I.A,{gutter:16},(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{...l,name:[t,"style","textColor"],label:"Text Color",style:{marginBottom:16}},(0,a.createElement)(B.A,{showText:!0,format:"hex",style:{width:"100%"},getPopupContainer:e=>e.parentElement}))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{...l,name:[t,"style","fontFamily"],label:"Font",style:{marginBottom:16}},(0,a.createElement)(k.A,{placeholder:"Font",style:{width:"100%"},getPopupContainer:e=>e.parentElement},(0,a.createElement)(k.A.Option,{value:"Arial"},"Arial"),(0,a.createElement)(k.A.Option,{value:"Helvetica"},"Helvetica"),(0,a.createElement)(k.A.Option,{value:"Georgia"},"Georgia")))),(0,a.createElement)(z.A,{span:8},(0,a.createElement)(w.A.Item,{...l,name:[t,"style","fontSize"],label:"Font Size",style:{marginBottom:16}},(0,a.createElement)(P.A,{min:8,max:48,style:{width:"100%"}}))))))))),(0,a.createElement)(w.A.Item,{style:{marginTop:20}},(0,a.createElement)(d.Ay,{type:"dashed",onClick:()=>t({option:"New Prize",image:{uri:"",offsetX:0,offsetY:0,sizeMultiplier:1,landscape:!1},style:{backgroundColor:"#ff8f43",textColor:"#ffffff",fontFamily:"Arial",fontSize:16,fontWeight:400,fontStyle:"normal"},optionSize:1}),block:!0,icon:(0,a.createElement)(F.A,null)},"Add Prize"))))))))};var X=n(5253);const{Title:Y,Text:K}=o.A,Q=()=>{const[e,t]=(0,l.useState)(!1),[n]=w.A.useForm();M(),(0,l.useEffect)((()=>{r()}),[]);const r=async()=>{t(!0);try{const e={enable_analytics:!0,cache_enabled:!0,max_spins_per_day:10,default_theme:"classic",show_congratulations:!0,auto_hide_wheel:!1,enable_sound_effects:!0,spin_duration:3e3,wheel_size:300,enable_mobile_responsive:!0};n.setFieldsValue(e)}catch(e){b.Ay.error("Failed to load settings: "+e.message)}finally{t(!1)}};return(0,a.createElement)("div",null,(0,a.createElement)(c.A,null,(0,a.createElement)(Y,{level:3},"Plugin Settings"),(0,a.createElement)(w.A,{form:n,layout:"vertical",onFinish:async e=>{t(!0);try{b.Ay.success("Settings saved successfully"),console.log("Settings to save:",e)}catch(e){b.Ay.error("Failed to save settings: "+e.message)}finally{t(!1)}},disabled:e},(0,a.createElement)(Y,{level:4},"General Settings"),(0,a.createElement)(w.A.Item,{name:"default_theme",label:"Default Theme",tooltip:"The default theme to use for new wheels"},(0,a.createElement)(k.A,null,(0,a.createElement)(k.A.Option,{value:"classic"},"Classic"),(0,a.createElement)(k.A.Option,{value:"modern"},"Modern"),(0,a.createElement)(k.A.Option,{value:"colorful"},"Colorful"))),(0,a.createElement)(w.A.Item,{name:"wheel_size",label:"Default Wheel Size (px)",tooltip:"Default size for the wheel in pixels"},(0,a.createElement)(P.A,{min:200,max:800,step:50})),(0,a.createElement)(w.A.Item,{name:"spin_duration",label:"Spin Duration (ms)",tooltip:"How long the wheel spins in milliseconds"},(0,a.createElement)(P.A,{min:1e3,max:1e4,step:500})),(0,a.createElement)(T.A,null),(0,a.createElement)(Y,{level:4},"User Experience"),(0,a.createElement)(w.A.Item,{name:"max_spins_per_day",label:"Max Spins Per Day",tooltip:"Maximum number of spins allowed per user per day (0 = unlimited)"},(0,a.createElement)(P.A,{min:0,max:100})),(0,a.createElement)(w.A.Item,{name:"show_congratulations",label:"Show Congratulations Message",valuePropName:"checked"},(0,a.createElement)(O.A,null)),(0,a.createElement)(w.A.Item,{name:"auto_hide_wheel",label:"Auto Hide Wheel After Spin",valuePropName:"checked"},(0,a.createElement)(O.A,null)),(0,a.createElement)(w.A.Item,{name:"enable_sound_effects",label:"Enable Sound Effects",valuePropName:"checked"},(0,a.createElement)(O.A,null)),(0,a.createElement)(w.A.Item,{name:"enable_mobile_responsive",label:"Enable Mobile Responsive Design",valuePropName:"checked"},(0,a.createElement)(O.A,null)),(0,a.createElement)(T.A,null),(0,a.createElement)(Y,{level:4},"Performance & Analytics"),(0,a.createElement)(w.A.Item,{name:"cache_enabled",label:"Enable Caching",tooltip:"Cache wheel data and themes for better performance",valuePropName:"checked"},(0,a.createElement)(O.A,null)),(0,a.createElement)(w.A.Item,{name:"enable_analytics",label:"Enable Analytics",tooltip:"Track spin results and user interactions",valuePropName:"checked"},(0,a.createElement)(O.A,null)),(0,a.createElement)(T.A,null),(0,a.createElement)(w.A.Item,null,(0,a.createElement)(m.A,null,(0,a.createElement)(d.Ay,{type:"primary",htmlType:"submit",icon:(0,a.createElement)(X.A,null),loading:e},"Save Settings"),(0,a.createElement)(d.Ay,{onClick:()=>n.resetFields()},"Reset to Defaults"))))))},{Title:Z,Paragraph:ee}=o.A,{Sider:te,Content:ne}=s.A;var ae=n(9635);const le=(0,l.createContext)();var re=n(7831),ie=n(3173);const oe=document.getElementById("spin-the-wheel-admin");oe&&(0,l.createRoot)(oe).render((0,a.createElement)(l.StrictMode,null,(0,a.createElement)(ae.t,null,(0,a.createElement)(r.Ay,{locale:ie.A,theme:re,getPopupContainer:e=>e?.parentElement||document.body},(0,a.createElement)(i.A,null,(0,a.createElement)((({children:e})=>{const[t,n]=(0,l.useState)(!1),[r,i]=(0,l.useState)("Loading...");return(0,a.createElement)(le.Provider,{value:{loading:t,loadingText:r,showLoading:(e="Loading...")=>{i(e),n(!0)},hideLoading:()=>{n(!1)}}},e)}),null,(0,a.createElement)((({children:e})=>(0,a.createElement)(L.Provider,{value:$},e)),null,(0,a.createElement)((()=>{const[e,t]=(0,l.useState)((()=>{try{return localStorage.getItem("spinTheWheelAdminTab")||"dashboard"}catch(e){return"dashboard"}})),n=e=>{t(e);try{localStorage.setItem("spinTheWheelAdminTab",e)}catch(e){console.warn("Could not save tab state to localStorage:",e)}};(0,l.useEffect)((()=>{const e=e=>{"spinTheWheelAdminTab"===e.key&&e.newValue&&t(e.newValue)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]);const r=[{key:"dashboard",icon:(0,a.createElement)(p.A,null),label:"Dashboard"},{key:"themes",icon:(0,a.createElement)(h.A,null),label:"Theme Manager"},{key:"wheels",icon:(0,a.createElement)(E.A,null),label:"Wheel Data"},{key:"analytics",icon:(0,a.createElement)(A.A,null),label:"Analytics"},{key:"settings",icon:(0,a.createElement)(g.A,null),label:"Settings"}];return(0,a.createElement)(s.A,{style:{minHeight:"70vh",background:"transparent"}},(0,a.createElement)(te,{width:250,style:{background:"#fff",borderRight:"1px solid #f0f0f0",borderRadius:"8px 0 0 8px"}},(0,a.createElement)("div",{style:{padding:"16px",borderBottom:"1px solid #f0f0f0"}},(0,a.createElement)(Z,{level:4,style:{margin:0,textAlign:"center"}},"🎯 Spin The Wheel")),(0,a.createElement)(u.A,{mode:"inline",selectedKeys:[e],items:r,onClick:({key:e})=>n(e),style:{borderRight:0}})),(0,a.createElement)(s.A,null,(0,a.createElement)(ne,{style:{padding:"24px",background:"#fff",borderRadius:"0 8px 8px 0"}},(()=>{switch(e){case"themes":return(0,a.createElement)(U,null);case"wheels":return(0,a.createElement)(J,null);case"settings":return(0,a.createElement)(Q,null);case"analytics":return(0,a.createElement)(c.A,null,(0,a.createElement)(Z,{level:3},"Analytics Dashboard"),(0,a.createElement)(ee,null,"Analytics dashboard will show spin statistics, popular prizes, user engagement metrics, and more."),(0,a.createElement)("div",{style:{padding:40,background:"#f5f5f5",borderRadius:8,textAlign:"center"}},"📊 Analytics charts and data visualization will be implemented here"));default:return(0,a.createElement)(m.A,{direction:"vertical",size:"large",style:{width:"100%"}},(0,a.createElement)(c.A,null,(0,a.createElement)(Z,{level:2},"🎯 Spin The Wheel - Admin Dashboard"),(0,a.createElement)(ee,null,"Welcome to the Spin The Wheel plugin administration panel. Create and manage wheel themes, configure wheel data, view analytics, and adjust settings.")),(0,a.createElement)(c.A,null,(0,a.createElement)(Z,{level:3},"Quick Actions"),(0,a.createElement)(m.A,{wrap:!0,size:"large"},(0,a.createElement)(d.Ay,{type:"primary",size:"large",onClick:()=>n("themes")},"🎨 Manage Themes"),(0,a.createElement)(d.Ay,{size:"large",onClick:()=>n("wheels")},"🎪 Create Wheel Data"),(0,a.createElement)(d.Ay,{size:"large",onClick:()=>n("analytics")},"📊 View Analytics"),(0,a.createElement)(d.Ay,{size:"large",onClick:()=>n("settings")},"⚙️ Settings"))),(0,a.createElement)(c.A,null,(0,a.createElement)(Z,{level:3},"Plugin Status"),(0,a.createElement)(m.A,{direction:"vertical"},(0,a.createElement)("div",null,"✅ Plugin successfully reorganized and optimized"),(0,a.createElement)("div",null,"✅ Modern React architecture implemented"),(0,a.createElement)("div",null,"✅ PHP classes restructured with PSR-4 autoloading"),(0,a.createElement)("div",null,"✅ Caching and performance optimizations enabled"),(0,a.createElement)("div",null,"✅ Error boundaries and logging configured"),(0,a.createElement)("div",null,"✅ Theme management system ready"),(0,a.createElement)("div",null,"✅ Wheel data management available"))),(0,a.createElement)(c.A,null,(0,a.createElement)(Z,{level:3},"Getting Started"),(0,a.createElement)(ee,null,(0,a.createElement)("strong",null,"1. Create a Theme:")," Go to Theme Manager to create custom wheel themes with colors, fonts, and styling."),(0,a.createElement)(ee,null,(0,a.createElement)("strong",null,"2. Set Up Wheel Data:")," Use Wheel Data manager to define wheel segments and prizes."),(0,a.createElement)(ee,null,(0,a.createElement)("strong",null,"3. Configure Settings:")," Adjust plugin behavior, limits, and preferences."),(0,a.createElement)(ee,null,(0,a.createElement)("strong",null,"4. Monitor Analytics:")," Track user engagement and spin results.")))}})())),(0,a.createElement)("style",{jsx:!0,global:!0},"\n                .ant-menu-item-selected {\n                    background-color: #5148ea !important;\n                    color: #ffffff !important;\n                }\n                \n                .ant-menu-item-selected .ant-menu-title-content {\n                    color: #ffffff !important;\n                }\n                \n                .ant-menu-item-selected .anticon {\n                    color: #ffffff !important;\n                }\n                \n                .ant-menu-item-selected::after {\n                    border-right-color: #5148ea !important;\n                }\n                \n                .ant-menu-item-selected:hover {\n                    background-color: #6f5ef7 !important;\n                    color: #ffffff !important;\n                }\n                \n                .ant-menu-item-selected:hover .ant-menu-title-content {\n                    color: #ffffff !important;\n                }\n                \n                .ant-menu-item-selected:hover .anticon {\n                    color: #ffffff !important;\n                }\n            "))}),null))))))))},5795:e=>{e.exports=window.ReactDOM},6087:e=>{e.exports=window.wp.element}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,l,r)=>{if(!n){var i=1/0;for(m=0;m<e.length;m++){for(var[n,l,r]=e[m],o=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(o=!1,r<i&&(i=r));if(o){e.splice(m--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,l,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.j=57,(()=>{var e={57:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,r,[i,o,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(s)var m=s(a)}for(t&&t(n);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},n=globalThis.webpackChunkspin_the_wheel=globalThis.webpackChunkspin_the_wheel||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[96,804],(()=>a(4274)));l=a.O(l)})();